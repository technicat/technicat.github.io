---
layout: post
title: Mouse Callbacks with Unity Flash
date: '2012-01-08T14:57:30-08:00'
tags: []
tumblr_url: https://fugugames.tumblr.com/post/110515810641/mouse-callbacks-with-unity-flash
---
<p>One thing missing from the Flash exporter in the Unity 3.5 developer preview is support for the OnMouse callbacks. So, as with Unity iOS and Android, you have to roll your own. Here&rsquo;s what I coded for the Flash version of <a href="http://hyperbowl3d.com/">HyperBowl</a> (only for game objects with colliders, not GUIText/Texture):</p>

<p><code><br/>
private var layermask:int = 0;</code></p>

<p>private var hitobject:GameObject;</p>

<p>function Awake() {layermask=1&lt;gameObject.layer; }</p>

<p>function Update () {<br/>
var hit : RaycastHit;<br/>
var ray = camera.ScreenPointToRay (Input.mousePosition);<br/>
if (Physics.Raycast (ray,hit,150,layermask)) {<br/>
if (Input.GetMouseButtonDown(0)) {<br/>
hit.transform.gameObject.SendMessage(&ldquo;OnMouseDown&rdquo;,SendMessageOptions.DontRequireReceiver);<br/>
} else {<br/>
if (hitobject != hit.transform.gameObject) {<br/>
if (hitobject != null) {<br/>
hitobject.SendMessage(&ldquo;OnMouseExit&rdquo;,SendMessageOptions.DontRequireReceiver);<br/>
}<br/>
hitobject = hit.transform.gameObject;<br/>
hitobject.SendMessage(&ldquo;OnMouseEnter&rdquo;,SendMessageOptions.DontRequireReceiver);<br/>
}<br/>
}<br/>
}<br/>
}<br/></p>
